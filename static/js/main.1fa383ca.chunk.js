(this["webpackJsonpconnect4-ai"]=this["webpackJsonpconnect4-ai"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a.n(c),l=a(3),s=a(4),i=a(7),u=a(6),m=function(e){var t=e.text;return r.a.createElement("h1",null,t)},d=function(e){var t=e.text;return r.a.createElement("h5",null,t.split("\n").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"".concat(e,"-").concat(t)},e,r.a.createElement("br",null))})))};d.defaultProps={text:"Default description"};var p=d,f=function(e){var t=e.value,a=e.onClick;return r.a.createElement("button",{className:"btn btn-primary btn-lg",type:"button",onClick:function(e){e.target.blur(),a()}},t)},h=a(5),v=a.n(h),y=function(e){for(var t=e.ROWS,a=e.COLS,n=e.onClick,c=[],o=0;o<t;o++){for(var l=[],s=function(e){var t=r.a.createElement("td",{key:o+"-"+e},r.a.createElement("button",{type:"button",className:"board-button",id:"button-".concat(o,"-").concat(e),onClick:function(){return n(e)}}));l.push(t)},i=0;i<a;i++)s(i);var u=r.a.createElement("tr",{key:o},l);c.push(u)}return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,c)))},E=function(e){var t=e.options,a=e.player,n=e.onChange;return r.a.createElement("select",{onChange:n},t.map((function(e){return r.a.createElement("option",{key:"p".concat(a,"-").concat(e)},e)})))},b=["Player","Easy (random)","Normal (shallow minimax)","Hard (neuroevolution)","Crazy (deep minimax)"],w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).runAI=function(){-1===n.state.winner&&(1===n.state.curPlayer&&0!==n.state.p1&&(1===n.state.p1?n.randomAI():2===n.state.p1||3===n.state.p1||n.state.p1),2===n.state.curPlayer&&0!==n.state.p2&&(1===n.state.p2?n.randomAI():2===n.state.p2||3===n.state.p2||n.state.p2))},n.handleSelectChange=function(e,t){1===t?n.setState({p1:e.target.selectedIndex}):2===t&&n.setState({p2:e.target.selectedIndex})},n.handleNewGame=function(){n.setState({board:new Array(6).fill(0).map((function(){return new Array(7).fill(0)})),curPlayer:1+Math.floor(2*Math.random()),winner:-1},(function(){}));for(var e=0;e<6;e++)for(var t=0;t<7;t++){var a=document.getElementById("button-".concat(e,"-").concat(t));a.classList.contains("p1")&&a.classList.remove("p1"),a.classList.contains("p2")&&a.classList.remove("p2"),a.classList.contains("win")&&a.classList.remove("win")}},n.handlePlayerClick=function(e){(1===n.state.curPlayer&&0===n.state.p1||2===n.state.curPlayer&&0===n.state.p2)&&n.dropDisc(e)},n.dropDisc=function(e){if(-1===n.state.winner)for(var t=function(t){if(0===n.state.board[t][e]){document.getElementById("button-".concat(t,"-").concat(e)).classList.add("p".concat(n.state.curPlayer));var a=n.state.board;a[t][e]=n.state.curPlayer;var r=n.state.curPlayer;return n.setState({board:a,curPlayer:n.state.curPlayer%2+1},(function(){n.checkWin(t,e,r)&&n.setState({winner:r})})),"break"}},a=5;a>=0;a--){if("break"===t(a))break}},n.checkWin=function(e,t,a){for(var r=!1,c=0;c<4;c++){var o=t-c,l=t+4-c-1,s=e-c,i=e+4-c-1;o>=0&&l<7&&(r=r||n.checkWinHelper(e,o,!1,!0,!1,!1,a)),s>=0&&i<6&&(r=r||n.checkWinHelper(s,t,!0,!1,!1,!1,a)),o>=0&&l<7&&s>=0&&i<6&&(r=r||n.checkWinHelper(s,o,!0,!0,!1,!1,a));var u=t+c;t-4+c+1>=0&&u<7&&s>=0&&i<6&&(r=r||n.checkWinHelper(s,u,!0,!0,!1,!0,a))}return r},n.checkWinHelper=function(e,t,a,r,c,o,l){for(var s=0;s<4;s++)if(n.state.board[e+(a?c?-s:s:0)][t+(r?o?-s:s:0)]!==l)return!1;for(var i=0;i<4;i++){var u=document.getElementById("button-".concat(e+(a?c?-i:i:0),"-").concat(t+(r?o?-i:i:0)));u.classList.contains("win")||u.classList.add("win")}return!0},n.state={board:new Array(6).fill(0).map((function(){return new Array(7).fill(0)})),curPlayer:1+Math.floor(2*Math.random()),winner:-1,p1:0,p2:0},n}return Object(s.a)(a,[{key:"randomAI",value:function(){for(var e=[],t=0;t<7;t++)0===this.state.board[0][t]&&e.push(t);var a=e[Math.floor(Math.random()*e.length)];this.dropDisc(a)}},{key:"render",value:function(){var e,t=this;return e=-1!==this.state.winner?"Player ".concat(this.state.winner," wins"):"Player ".concat(this.state.curPlayer," turn"),r.a.createElement("div",{className:"App container-fluid text-center pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(m,{text:"Connect 4 AI"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(p,{text:"Play versus Player/AI or watch AI play against AI."}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col col-auto pt-3"},r.a.createElement("h4",null,"Player 1"),r.a.createElement(E,{options:b,player:1,onChange:function(e){return t.handleSelectChange(e,1)}})),r.a.createElement("div",{className:"col col-auto pt-3"},r.a.createElement("h4",null,"Player 2"),r.a.createElement(E,{options:b,player:2,onChange:function(e){return t.handleSelectChange(e,2)}}))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement(f,{value:"New Game",onClick:this.handleNewGame}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col col-auto pt-5"},r.a.createElement("h4",null,e))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col col-auto"},r.a.createElement(y,{ROWS:6,COLS:7,onClick:this.handlePlayerClick}))),r.a.createElement(v.a,{href:"https://github.com/ryantran2165/connect4-ai",bannerColor:"#222",octoColor:"#7fffd4",target:"_blank"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(14),a(15);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.1fa383ca.chunk.js.map