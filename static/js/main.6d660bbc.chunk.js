(this["webpackJsonpconnect4-ai"]=this["webpackJsonpconnect4-ai"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),l=a.n(c),o=a(3),i=a(4),s=a(5),u=a(8),m=a(7),d=function(e){var t=e.text;return r.a.createElement("h1",null,t)},p=function(e){var t=e.text;return r.a.createElement("h5",null,t.split("\n").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"".concat(e,"-").concat(t)},e,r.a.createElement("br",null))})))};p.defaultProps={text:"Default description"};var f=p,v=function(e){var t=e.value,a=e.onClick;return r.a.createElement("button",{className:"btn btn-primary btn-lg",type:"button",onClick:function(e){e.target.blur(),a()}},t)},h=a(6),y=a.n(h),E=function(e){for(var t=e.ROWS,a=e.COLS,n=e.onClick,c=[],l=0;l<t;l++){for(var o=[],i=function(e){var t=r.a.createElement("td",{key:l+"-"+e},r.a.createElement("button",{type:"button",className:"board-button",id:"button-".concat(l,"-").concat(e),onClick:function(){return n(e)}}));o.push(t)},s=0;s<a;s++)i(s);var u=r.a.createElement("tr",{key:l},o);c.push(u)}return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,c)))},b=function(e){var t=e.options,a=e.player,n=e.onChange;return r.a.createElement("select",{onChange:n},t.map((function(e){return r.a.createElement("option",{key:"p".concat(a,"-").concat(e)},e)})))},w=function(e){var t=e.min,a=e.max,n=e.step,c=e.defaultValue,l=e.id,o=e.onChange;return r.a.createElement("input",{type:"range",min:t,max:a,step:n,defaultValue:c,id:l,onChange:o})};w.defaultProps={min:0,max:1,step:1,defaultValue:0,id:""};var g=w,k=function(e){var t=e.text,a=e.value;return r.a.createElement("h5",{className:"text-break"},t,": ",a)};k.defaultProps={text:"",value:0};var N=k,C=["Player","Easy (random)","Normal (shallow minimax)","Hard (neuroevolution)","Crazy (deep minimax)"],P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).runAI=function(){-1===n.state.winner&&(clearTimeout(n.timer),n.timer=setTimeout((function(){1===n.state.curPlayer&&0!==n.state.p1?1===n.state.p1?n.randomAI():2===n.state.p1||3===n.state.p1||n.state.p1:2===n.state.curPlayer&&0!==n.state.p2&&(1===n.state.p2?n.randomAI():2===n.state.p2||3===n.state.p2||n.state.p2)}),100/n.state.aiSpeed))},n.handleSelectChange=function(e,t){1===t?n.setState({p1:e.target.selectedIndex},(function(){return n.runAI()})):2===t&&n.setState({p2:e.target.selectedIndex},(function(){return n.runAI()}))},n.handleNewGame=function(){n.setState({board:new Array(6).fill(0).map((function(){return new Array(7).fill(0)})),curPlayer:1+Math.floor(2*Math.random()),winner:-1,movesRemaining:42},(function(){return n.runAI()}));for(var e=0;e<6;e++)for(var t=0;t<7;t++){var a=document.getElementById("button-".concat(e,"-").concat(t));a.classList.contains("p1")&&a.classList.remove("p1"),a.classList.contains("p2")&&a.classList.remove("p2"),a.classList.contains("win")&&a.classList.remove("win")}},n.handlePlayerClick=function(e){(1===n.state.curPlayer&&0===n.state.p1||2===n.state.curPlayer&&0===n.state.p2)&&n.dropDisc(e)},n.dropDisc=function(e){if(-1===n.state.winner)for(var t=function(t){if(0===n.state.board[t][e]){document.getElementById("button-".concat(t,"-").concat(e)).classList.add("p".concat(n.state.curPlayer));var a=n.state.board;a[t][e]=n.state.curPlayer;var r=n.state.curPlayer;return n.setState({board:a,curPlayer:n.state.curPlayer%2+1,movesRemaining:n.state.movesRemaining-1},(function(){n.checkWin(t,e,r)?n.setState({winner:r}):0===n.state.movesRemaining?n.setState({winner:0}):n.runAI()})),"break"}},a=5;a>=0;a--){if("break"===t(a))break}},n.checkWin=function(e,t,a){for(var r=!1,c=0;c<4;c++){var l=t-c,o=t+4-c-1,i=e-c,s=e+4-c-1;l>=0&&o<7&&(r=r||n.checkWinHelper(e,l,!1,!0,!1,!1,a)),i>=0&&s<6&&(r=r||n.checkWinHelper(i,t,!0,!1,!1,!1,a)),l>=0&&o<7&&i>=0&&s<6&&(r=r||n.checkWinHelper(i,l,!0,!0,!1,!1,a));var u=t+c;t-4+c+1>=0&&u<7&&i>=0&&s<6&&(r=r||n.checkWinHelper(i,u,!0,!0,!1,!0,a))}return r},n.checkWinHelper=function(e,t,a,r,c,l,o){for(var i=0;i<4;i++)if(n.state.board[e+(a?c?-i:i:0)][t+(r?l?-i:i:0)]!==o)return!1;for(var s=0;s<4;s++){var u=document.getElementById("button-".concat(e+(a?c?-s:s:0),"-").concat(t+(r?l?-s:s:0)));u.classList.contains("win")||u.classList.add("win")}return!0},n.updateState=function(e){n.setState(Object(o.a)({},e.target.id,e.target.value),(function(){return n.runAI()}))},n.state={board:new Array(6).fill(0).map((function(){return new Array(7).fill(0)})),curPlayer:1+Math.floor(2*Math.random()),winner:-1,p1:0,p2:0,movesRemaining:42,aiSpeed:.2},n}return Object(s.a)(a,[{key:"randomAI",value:function(){for(var e=[],t=0;t<7;t++)0===this.state.board[0][t]&&e.push(t);var a=e[Math.floor(Math.random()*e.length)];this.dropDisc(a)}},{key:"render",value:function(){var e,t=this;return e=-1!==this.state.winner?0===this.state.winner?"Draw":"Player ".concat(this.state.winner," wins"):"Player ".concat(this.state.curPlayer," turn"),r.a.createElement("div",{className:"App container-fluid text-center pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(d,{text:"Connect 4 AI"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(f,{text:"Play versus Player/AI or watch AI play against AI."}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col col-auto pt-3"},r.a.createElement("h4",null,"Player 1"),r.a.createElement(b,{options:C,player:1,onChange:function(e){return t.handleSelectChange(e,1)}})),r.a.createElement("div",{className:"col col-auto pt-3"},r.a.createElement("h4",null,"Player 2"),r.a.createElement(b,{options:C,player:2,onChange:function(e){return t.handleSelectChange(e,2)}}))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col col-10 col-sm-8 col-md-6 col-lg-4 col-xl-2"},r.a.createElement(g,{min:.01,max:1,step:.01,defaultValue:this.state.aiSpeed,id:"aiSpeed",onChange:this.updateState}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(N,{text:"AI speed",value:this.state.aiSpeed}))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement(v,{value:"New Game",onClick:this.handleNewGame}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col col-auto pt-5"},r.a.createElement("h4",null,e))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col col-auto"},r.a.createElement(E,{ROWS:6,COLS:7,onClick:this.handlePlayerClick}))),r.a.createElement(y.a,{href:"https://github.com/ryantran2165/connect4-ai",bannerColor:"#222",octoColor:"#7fffd4",target:"_blank"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(15),a(16);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.6d660bbc.chunk.js.map